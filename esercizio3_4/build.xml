<project default = "run" name = "Esercizio_3_4">
    
    <!-- execute the jar generated file -->
    <target name = "run" depends = "build">
        <java jar = "./bin/client.jar" fork = "true"></java>
    </target>
    
    <!-- compile all the source files needed -->
    <target name = "build">
        <javac includeantruntime = "false" srcdir = "./src" destdir = "./build">
       	    <classpath>
                  <pathelement location="./lib/junit-4.12.jar" />
                  <pathelement location="./lib/hamcrest-core-1.3.jar" />
            </classpath>
        </javac>
        
        <jar destfile = "./bin/client.jar">
            <fileset dir = "./build" includes = "**/*.class"></fileset>
            <fileset dir = "./src" includes = "**/*.java"></fileset>
            <manifest>
                <attribute name="Main-Class" value="client.Uselist"/>
              </manifest>
        </jar>
    
    </target>
    
    <!-- clean all the files generated by the compilation and execution -->
    <target name = "clean">
        <delete includeemptydirs = "true">
            <fileset dir = "build" includes = "**/*"/>
        </delete>
        <delete file = "./out.txt"/>
        <delete file = "./bin/client.jar"/>
    </target>
</project>
